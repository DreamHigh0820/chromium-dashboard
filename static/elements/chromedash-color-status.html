<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="chromedash-color-status">
  <link rel="import" type="css" href="../css/elements/chromedash-color-status.css">
  <template>
    <span id="status"></span>
  </template>
</dom-module>
<script>
  Polymer({
    is: 'chromedash-color-status',
    properties: {
      height: {
        type: Number,
        value: 10
      },
      max: {
        type: Number,
        value: 7,
        notify: true,
        observer: 'maxChanged'
      },
      value: {
        type: Number,
        notify: true,
        observer: 'valueChanged'
      },
      width: {
        type: Number,
        value: 10
      }
    },
    updateColor: function() {
      var CYAN = 120;
      var h = Math.round(CYAN - this.value * CYAN / this.max);
      this.$.status.style.backgroundColor = 'hsl(' + h + ', 100%, 50%)';
    },
    valueChanged: function() {
      this.updateColor();
    },
    maxChanged: function() {
      this.updateColor();
    }
  });
</script>
