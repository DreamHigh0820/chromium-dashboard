<polymer-element name="chromedash-color-status" attributes="value max width height corner">
  <template>
    <link rel="stylesheet" type="text/css" href="../css/elements/chromedash-color-status.css">
    <style>
      span {
        width: {{width}}px;
        height: {{height}}px;
      }
    </style>
    <span id="status"></span>
  </template>
  <script>
    Polymer('chromedash-color-status', {
      max: 7,
      width: 10,
      height: 10,
      corner: false,
      cornerChanged: function() {
        this.corner ? this.$.status.classList.add('corner') :
                      this.$.status.classList.remove('corner');
      },
      updateColor: function() {
        /* Red or green? */
        var h = this.value > 3 ? 0 : 120;
        /* Which shade? */
        var l = 95 - Math.abs(this.value - 4) * 10;
        this.$.status.style.backgroundColor = 'hsl(' + h + ', 100%,' + l + '%)';
      },
      valueChanged: function() {
        this.updateColor();
      },
      maxChanged: function() {
        this.updateColor();
      }
      /*widthChanged: function() {
         //this.$.status.style.width = this.width + 'px';
         //this.widthUnits ? this.corner ? '%': 'px';
      },*/
      /*heightChanged: function() {
        //this.$.status.style.height = this.height + 'px';
        this.heightUnits = this.corner ? '%': 'px';
      }*/
    });
  </script>
  </polymer-element>
