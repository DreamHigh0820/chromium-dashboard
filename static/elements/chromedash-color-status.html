<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="chromedash-color-status">
  <template>
    <link rel="stylesheet" href="../css/elements/chromedash-color-status.css">
    <span id="status"></span>
  </template>
</dom-module>
<script>
  Polymer({
    is: 'chromedash-color-status',
    properties: {
      height: {
        type: Number,
        value: 10
      },
      max: {
        type: Number,
        value: 7,
        notify: true,
        observer: 'maxChanged'
      },
      value: {
        notify: true,
        observer: 'valueChanged'
      },
      width: {
        type: Number,
        value: 10
      }
    },
    updateColor: function () {
      var h = Math.round(120 - this.value * 120 / this.max);
      this.$.status.style.backgroundColor = 'hsl(' + h + ', 100%, 50%)';
    },
    valueChanged: function () {
      this.updateColor();
    },
    maxChanged: function () {
      this.updateColor();
    }
  });
</script>


<!-- <link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="chromedash-color-status" attributes="value max">
  <template>
    <link rel="stylesheet" href="../css/elements/chromedash-color-status.css">
    <span id="status"></span>
  </template>
  <script>
    Polymer({
      max: 7,
      width: 10,
      height: 10,
      updateColor: function() {
        var h = Math.round(120 - this.value * 120 / this.max);
        this.$.status.style.backgroundColor = 'hsl(' + h + ', 100%, 50%)';
      },
      valueChanged: function() {
        this.updateColor();
      },
      maxChanged: function() {
        this.updateColor();
      }
    });
  </script>
</polymer-element> -->
