<link rel="import" href="../bower_components/polymer/polymer.html">
<!-- <link rel="import" href="../bower_components/paper-styles/color.html"> -->

<dom-module id="x-meter">
<link rel="import" type="css" href="../css/elements/x-meter.css">
<template>
  <div class="meter" id="meter">
    <div style$="[[_computeStyle(value)]]"><span>{{valueFormatted}}</span></div>
  </div>
</template>
<script>
  Polymer({
    is: 'x-meter',

    properties: {
      value: {
        type: Number,
        value: 0,
        notify: true
      },
      valueFormatted: {
        type: Number,
        computed: '_computeFormattedValue(value)'
      }
    },

    _computeFormattedValue: function(value) {
      return value <= 0.0001 ? '<=0.0001%' : Number(value).toFixed(4) + '%';
    },
    _computeStyle: function(value) {
      return 'width:' + value + '%';
    }
  });
</script>
</dom-module>
